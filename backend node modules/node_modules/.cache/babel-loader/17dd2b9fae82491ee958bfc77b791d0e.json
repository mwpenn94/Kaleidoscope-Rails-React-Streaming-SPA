{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport scopes from '../apis/scopes';\nimport history from '../history';\nimport { SIGN_IN, SIGN_OUT, CREATE_SCOPE, FETCH_SCOPES, FETCH_SCOPE, DELETE_SCOPE, EDIT_SCOPE } from './types';\nexport var signIn = function signIn(userId) {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\nexport var signOut = function signOut() {\n  return {\n    type: SIGN_OUT\n  };\n};\nexport var createScope = function createScope(formValues) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, getState) {\n      var userId, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userId = getState().auth.userId;\n              _context.next = 3;\n              return scopes.post('/scopes', _objectSpread(_objectSpread({}, formValues), {}, {\n                userId: userId\n              }));\n\n            case 3:\n              response = _context.sent;\n              dispatch({\n                type: CREATE_SCOPE,\n                payload: response.data\n              });\n              history.push('/');\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var fetchScopes = function fetchScopes() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return scopes.get('/scopes');\n\n            case 2:\n              response = _context2.sent;\n              dispatch({\n                type: FETCH_SCOPES,\n                payload: response.data\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var fetchScope = function fetchScope(id) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return scopes.get(\"/scopes/\".concat(id));\n\n            case 2:\n              response = _context3.sent;\n              dispatch({\n                type: FETCH_SCOPE,\n                payload: response.data\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var editScope = function editScope(id, formValues) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return scopes.patch(\"/scopes/\".concat(id), formValues);\n\n            case 2:\n              response = _context4.sent;\n              dispatch({\n                type: EDIT_SCOPE,\n                payload: response.data\n              });\n              history.push('/');\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteScope = function deleteScope(id) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return scopes[\"delete\"](\"/scopes/\".concat(id));\n\n            case 2:\n              dispatch({\n                type: DELETE_SCOPE,\n                payload: id\n              });\n              history.push('/');\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/mnt/c/Users/M/dev/flatiron/labs/kaleidoscope/backend/app/javascript/src/actions/index.js"],"names":["scopes","history","SIGN_IN","SIGN_OUT","CREATE_SCOPE","FETCH_SCOPES","FETCH_SCOPE","DELETE_SCOPE","EDIT_SCOPE","signIn","userId","type","payload","signOut","createScope","formValues","dispatch","getState","auth","post","response","data","push","fetchScopes","get","fetchScope","id","editScope","patch","deleteScope"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SACEC,OADF,EAEEC,QAFF,EAGEC,YAHF,EAIEC,YAJF,EAKEC,WALF,EAMEC,YANF,EAOEC,UAPF,QAQO,SARP;AAUA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,MAAM,EAAI;AAC9B,SAAO;AACLC,IAAAA,IAAI,EAAET,OADD;AAELU,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC3B,SAAO;AACLF,IAAAA,IAAI,EAAER;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,IAAMW,WAAW,GAAG,SAAdA,WAAc,CAAAC,UAAU;AAAA;AAAA,wEAAI,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/BP,cAAAA,MAD+B,GACpBO,QAAQ,GAAGC,IADS,CAC/BR,MAD+B;AAAA;AAAA,qBAEhBV,MAAM,CAACmB,IAAP,CAAY,SAAZ,kCAA4BJ,UAA5B;AAAwCL,gBAAAA,MAAM,EAANA;AAAxC,iBAFgB;;AAAA;AAEjCU,cAAAA,QAFiC;AAIvCJ,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEP,YAAR;AAAsBQ,gBAAAA,OAAO,EAAEQ,QAAQ,CAACC;AAAxC,eAAD,CAAR;AACApB,cAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb;;AALuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAA9B;AAQP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA;AAAA,yEAAM,kBAAMP,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACRhB,MAAM,CAACwB,GAAP,CAAW,SAAX,CADQ;;AAAA;AACzBJ,cAAAA,QADyB;AAG/BJ,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEN,YAAR;AAAsBO,gBAAAA,OAAO,EAAEQ,QAAQ,CAACC;AAAxC,eAAD,CAAR;;AAH+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;AAMP,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAAAC,EAAE;AAAA;AAAA,yEAAI,kBAAMV,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACPhB,MAAM,CAACwB,GAAP,mBAAsBE,EAAtB,EADO;;AAAA;AACxBN,cAAAA,QADwB;AAG9BJ,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEL,WAAR;AAAqBM,gBAAAA,OAAO,EAAEQ,QAAQ,CAACC;AAAvC,eAAD,CAAR;;AAH8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB;AAMP,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACD,EAAD,EAAKX,UAAL;AAAA;AAAA,yEAAoB,kBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACpBhB,MAAM,CAAC4B,KAAP,mBAAwBF,EAAxB,GAA8BX,UAA9B,CADoB;;AAAA;AACrCK,cAAAA,QADqC;AAG3CJ,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEH,UAAR;AAAoBI,gBAAAA,OAAO,EAAEQ,QAAQ,CAACC;AAAtC,eAAD,CAAR;AACApB,cAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb;;AAJ2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApB;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;AAOP,OAAO,IAAMO,WAAW,GAAG,SAAdA,WAAc,CAAAH,EAAE;AAAA;AAAA,yEAAI,kBAAMV,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACzBhB,MAAM,UAAN,mBAAyB0B,EAAzB,EADyB;;AAAA;AAG/BV,cAAAA,QAAQ,CAAC;AAAEL,gBAAAA,IAAI,EAAEJ,YAAR;AAAsBK,gBAAAA,OAAO,EAAEc;AAA/B,eAAD,CAAR;AACAzB,cAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb;;AAJ+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB","sourcesContent":["import scopes from '../apis/scopes';\r\nimport history from '../history';\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_SCOPE,\r\n  FETCH_SCOPES,\r\n  FETCH_SCOPE,\r\n  DELETE_SCOPE,\r\n  EDIT_SCOPE\r\n} from './types';\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\nexport const createScope = formValues => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  const response = await scopes.post('/scopes', { ...formValues, userId });\r\n\r\n  dispatch({ type: CREATE_SCOPE, payload: response.data });\r\n  history.push('/');\r\n};\r\n\r\nexport const fetchScopes = () => async dispatch => {\r\n  const response = await scopes.get('/scopes');\r\n\r\n  dispatch({ type: FETCH_SCOPES, payload: response.data });\r\n};\r\n\r\nexport const fetchScope = id => async dispatch => {\r\n  const response = await scopes.get(`/scopes/${id}`);\r\n\r\n  dispatch({ type: FETCH_SCOPE, payload: response.data });\r\n};\r\n\r\nexport const editScope = (id, formValues) => async dispatch => {\r\n  const response = await scopes.patch(`/scopes/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_SCOPE, payload: response.data });\r\n  history.push('/');\r\n};\r\n\r\nexport const deleteScope = id => async dispatch => {\r\n  await scopes.delete(`/scopes/${id}`);\r\n\r\n  dispatch({ type: DELETE_SCOPE, payload: id });\r\n  history.push('/');\r\n};"]},"metadata":{},"sourceType":"module"}